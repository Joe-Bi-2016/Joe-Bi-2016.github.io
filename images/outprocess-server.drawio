<mxfile host="app.diagrams.net" modified="2024-06-14T09:08:35.975Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36" etag="fued0ay3mQyV2FuDp_rZ" version="24.5.3" type="device">
  <diagram name="第 1 页" id="DjM0J3iRukNFVjdtuBvq">
    <mxGraphModel dx="1707" dy="434" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="3gWC5cmQowpT4z6r7fdU-1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="40" y="10" width="320" height="200" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-2" value="monado\src\xrt\ipc\android\src\main\java\org\&lt;div&gt;freedesktop\monado\ipc\Client.java&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="170" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-3" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;IMonado monado;&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;public void onServiceConnected(ComponentName name, IBinder service) {&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Log.i(TAG, &quot;onServiceConnected&quot;);&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; synchronized (binderSync) {&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;font style=&quot;font-size: 12px;&quot; color=&quot;#ff0000&quot;&gt;monado = IMonado.Stub.asInterface(service);&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; binderSync.notify();&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;fillColor=#99FFCC;" vertex="1" parent="1">
          <mxGeometry x="50" y="50" width="300" height="150" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="440" y="22" width="320" height="170" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-5" value="monado\src\xrt\ipc\android\src\main\java\org\&lt;div&gt;freedesktop\monado\ipc\MonadoImpl&lt;span style=&quot;background-color: initial;&quot;&gt;.java&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="570" y="20" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-6" value="&lt;div&gt;public MonadoImpl(@NonNull Context context) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; this.context = context.getApplicationContext();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;font color=&quot;#ff0000&quot;&gt;nativeStartServer(this.context);&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99FFCC;" vertex="1" parent="1">
          <mxGeometry x="475" y="70" width="250" height="110" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-9" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="370" y="240" width="430" height="170" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-10" value="&lt;div&gt;extern &quot;C&quot; JNIEXPORT void JNICALL&lt;/div&gt;&lt;div&gt;Java_org_freedesktop_monado_ipc_MonadoImpl_nativeStartServer(JNIEnv *env, jobject thiz, jobject context)&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;......&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;&lt;font color=&quot;#ff0000&quot;&gt;IpcServerHelper::instance().startServer();&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99FFCC;" vertex="1" parent="1">
          <mxGeometry x="380" y="288" width="410" height="110" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-11" value="monado\src\xrt\targets\service-lib\service_target.cpp" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="540" y="250" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="3gWC5cmQowpT4z6r7fdU-3" target="3gWC5cmQowpT4z6r7fdU-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.533;entryY=0.006;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="3gWC5cmQowpT4z6r7fdU-4" target="3gWC5cmQowpT4z6r7fdU-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-21" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="-30" y="240" width="360" height="170" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="3gWC5cmQowpT4z6r7fdU-22" target="3gWC5cmQowpT4z6r7fdU-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-22" value="&lt;div&gt;void&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;startServer()&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;std::unique_lock lock(server_mutex);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;if (!server &amp;amp;&amp;amp; !server_thread) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&#x9;&lt;/span&gt;&lt;font color=&quot;#ff0000&quot;&gt;server_thread = std::make_unique&amp;lt;std::thread&amp;gt;(&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&#x9;&lt;/span&gt;&amp;nbsp; &amp;nbsp; [&amp;amp;]() { ipc_server_main_android(&amp;amp;server, signalStartupCompleteTrampoline, this);&lt;/font&gt; });&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;}&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99FFCC;" vertex="1" parent="1">
          <mxGeometry x="-20" y="282" width="340" height="122" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-23" value="monado\src\xrt\targets\service-lib\service_target.cpp" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="137" y="247" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="3gWC5cmQowpT4z6r7fdU-10" target="3gWC5cmQowpT4z6r7fdU-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-26" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="-70" y="447" width="440" height="330" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-27" value="&lt;div&gt;int&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;ipc_server_main_android(struct ipc_server **ps, void (*startup_complete_callback)(void *data), void *data)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;struct ipc_server *s = U_TYPED_CALLOC(struct ipc_server);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;&lt;font color=&quot;#cc0000&quot;&gt;int ret = init_all(s);&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;if (ret &amp;lt; 0) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;free(s);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;startup_complete_callback(data);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;return ret;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;init_server_state(s);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;*ps = s;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;startup_complete_callback(data);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;&lt;font color=&quot;#cc0000&quot;&gt;ret = main_loop(s);&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;teardown_all(s);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;free(s);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;return ret;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99FFCC;" vertex="1" parent="1">
          <mxGeometry x="-55" y="501" width="410" height="262" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-28" value="monado\src\xrt\ipc\server\ipc_server_process.c" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="116" y="457" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-31" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="420" y="446" width="500" height="344" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-32" value="&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;static int&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;init_all(struct ipc_server *s)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;{&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;......&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;xret = xrt_instance_create(NULL, &amp;amp;s-&amp;gt;xinst); // 调用target_instance.c中的对应函数，这里设置了创建xrt_system的创建函数&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;create_system&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;.......&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;xret = xrt_instance_create_system(s-&amp;gt;xinst, &amp;amp;s-&amp;gt;xsysd, &amp;amp;s-&amp;gt;xso, &amp;amp;s-&amp;gt;xsysc); //&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;调用target_instance.c中的对应函数&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;t_instance_create_system，&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;t_instance_create_system中创建了&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;main system compositor&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;.......&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;ret = init_shm(s); // 创建shared memory&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;.......&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;ret = ipc_server_mainloop_init(&amp;amp;s-&amp;gt;ml); // 启动循环，等待client连接&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;}&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99FFCC;" vertex="1" parent="1">
          <mxGeometry x="440" y="488" width="460" height="289" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-33" value="monado\src\xrt\ipc\server\ipc_server_process.c" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="611" y="456" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;exitX=0.646;exitY=0.225;exitDx=0;exitDy=0;exitPerimeter=0;strokeColor=#FF0000;" edge="1" parent="1" source="3gWC5cmQowpT4z6r7fdU-27" target="3gWC5cmQowpT4z6r7fdU-32">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="430" y="633" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-35" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="-110" y="820" width="530" height="380" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-36" value="&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;void&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;ipc_server_mainloop_poll(struct ipc_server *vs, struct ipc_server_mainloop *ml)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;{&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;int epoll_fd = ml-&amp;gt;epoll_fd;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;struct epoll_event events[NUM_POLL_EVENTS] = {0};&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;// No sleeping, returns immediately.&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;int ret = epoll_wait(epoll_fd, events, NUM_POLL_EVENTS, NO_SLEEP); // 在pipe上监听是否有client的连接&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;if (ret &amp;lt; 0) {&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;ipc_server_handle_failure(vs);&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;return;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;}&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;for (int i = 0; i &amp;lt; ret; i++) { // 有client连接，调用&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;handle_listen进行相应处理&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;if (events[i].data.fd == ml-&amp;gt;pipe_read) {&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&#x9;&lt;/span&gt;&lt;font color=&quot;#ff0000&quot;&gt;handle_listen(vs, ml);&lt;/font&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;}&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;}&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;}&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99FFCC;" vertex="1" parent="1">
          <mxGeometry x="-100" y="865" width="510" height="306" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-37" value="&lt;div&gt;monado\src\xrt\ipc\server\ipc_server_mainloop_android.c&lt;br&gt;&lt;/div&gt;&lt;div&gt;main_loop()---&amp;gt;ipc_server_mainloop_poll()&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="106" y="830" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-41" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="450" y="820" width="440" height="330" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-42" value="&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;int&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;ipc_server_mainloop_init(struct ipc_server_mainloop *ml)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;{&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;int ret = init_pipe(ml);&amp;nbsp; // 创建pipe&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;if (ret &amp;lt; 0) {&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;ipc_server_mainloop_deinit(ml);&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;return ret;&amp;nbsp;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;}&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;ret = init_epoll(ml); // 创建epoll fd,用于监听pipe&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;if (ret &amp;lt; 0) {&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;ipc_server_mainloop_deinit(ml);&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;return ret;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;}&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;return 0;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;}&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99FFCC;" vertex="1" parent="1">
          <mxGeometry x="464" y="874" width="410" height="262" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-43" value="&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;monado\src\xrt\ipc\server\ipc_server_mainloop_android.c&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="639" y="830" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-44" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.304;exitY=0.872;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.068;entryY=-0.004;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#CC0000;" edge="1" parent="1" source="3gWC5cmQowpT4z6r7fdU-32" target="3gWC5cmQowpT4z6r7fdU-42">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="440" y="870" as="sourcePoint" />
            <mxPoint x="490" y="820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-45" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.867;entryY=0.003;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.646;exitY=0.721;exitDx=0;exitDy=0;exitPerimeter=0;strokeColor=#CC0000;" edge="1" parent="1" source="3gWC5cmQowpT4z6r7fdU-27" target="3gWC5cmQowpT4z6r7fdU-36">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="160" y="800" as="sourcePoint" />
            <mxPoint x="260" y="780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-46" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="-110" y="1230" width="530" height="340" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-47" value="&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;void ipc_server_handle_client_connected(struct ipc_server *vs, xrt_ipc_handle_t ipc_handle){&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;......&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;ics-&amp;gt;client_state.id = id;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;ics-&amp;gt;imc.ipc_handle = ipc_handle; // 存储了监听到的fd，即client的socketpair&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;ics-&amp;gt;server = vs;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;ics-&amp;gt;server_thread_index = cs_index;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;ics-&amp;gt;io_active = true;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#ff0000&quot; style=&quot;font-size: 15px;&quot;&gt;os_thread_start(&amp;amp;it-&amp;gt;thread, ipc_server_client_thread, (void *)ics); &lt;/font&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 15px;&quot;&gt;// 启动client端对应的处理线程&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;......&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;}&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99FFCC;" vertex="1" parent="1">
          <mxGeometry x="-100" y="1286" width="510" height="260" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-48" value="&lt;div&gt;&lt;font color=&quot;#cc0000&quot;&gt;monado\src\xrt\ipc\server\ipc_server_mainloop_android.c&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#cc0000&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;ipc_server_mainloop_poll-&amp;gt;handle_listen-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;ipc_server_handle_client_connected&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="106" y="1240" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-49" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=0.833;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="161" y="1119.898" as="sourcePoint" />
            <mxPoint x="161" y="1286" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-50" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="440" y="1190" width="550" height="420" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-51" value="&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;static void&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;client_loop(volatile struct ipc_client_state *ics) {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;......&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;int epoll_fd = setup_epoll(ics);&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;......&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;uint8_t buf[IPC_BUF_SIZE] = {0};&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;while (ics-&amp;gt;server-&amp;gt;running) {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px; white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;const int half_a_second_ms = 500;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px; white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;struct epoll_event event = XRT_STRUCT_INIT;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px; white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;// We use epoll here to be able to timeout.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px; white-space: normal;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;int ret = epoll_wait(epoll_fd, &amp;amp;event, 1, half_a_second_ms);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;......&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;ipc_command_t *ipc_command = (ipc_command_t *)buf;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;IPC_TRACE_BEGIN(ipc_dispatch);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;x&lt;font color=&quot;#ff0000&quot;&gt;rt_result_t result = ipc_dispatch(ics, ipc_command);&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;IPC_TRACE_END(ipc_dispatch);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;......&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;......&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;}&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99FFCC;" vertex="1" parent="1">
          <mxGeometry x="460" y="1230" width="510" height="360" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-52" value="monado\src\xrt\ipc\server\ipc_server_per_client_thread.c" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="666" y="1203" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3gWC5cmQowpT4z6r7fdU-53" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.863;exitY=0.746;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="3gWC5cmQowpT4z6r7fdU-47" target="3gWC5cmQowpT4z6r7fdU-51">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="430" y="1480" as="sourcePoint" />
            <mxPoint x="480" y="1430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
